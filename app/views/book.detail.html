<section class='row'>
  <header class='page-header'>
    <h1>{{ book.title }} <small>{{ book.subtitle }}</small></h1>
  </header>
  <div class='row'>
    <div class='col-sm-9'>
      <div class='media'>
        <div class='pull-left'>
          <a ui-sref='books.detail({ isbn: book.isbn })'>
            <img data-src='holder.js/240x240'
                 ng-hide='book.thumbnail'
                 class='media-object img-thumbnail' holder-fix>
            <img ng-src='{{ book.thumbnail }}'
                 ng-show='book.thumbnail'
                 class='media-object img-thumbnail fix-thumbsize-detail'>
          </a>
        </div>
        <div class='media-body'>
          <p>{{ book.description }}</p>
        </div>
      </div>
    </div>
    <div class='col-sm-3'>
      <aside class='panel panel-default'>
        <header class='panel-heading'>
          <h3 class='panel-title'>
            Additional Information
          </h3>
        </header>
        <div class='panel-body'>
          <dl>
            <dt ng-show='book.authors'>
              Authors
            </dt>
            <dd>
              <ul class='list-unstyled'>
                <li ng-repeat='author in book.authors'>
                  {{ author }}
                </li>
              </ul>
            </dd>
            <dt ng-show='book.publisher'>
              Publisher
            </dt>
            <dd>
              {{ book.publisher }}
            </dd>
            <dt ng-show='book.published_on'>
              Published on
            </dt>
            <dd>
              <time datetime='{{ book.published_on }}'>
                {{ book.published_on | date:'MMM yyyy' }}
              </time>
            </dd>
          </dl>
        </div>
      </aside>
    </div>
  </div>
</section>

<section class='row'>
  <header class=''>
    <h2 class=''>Owners</h2>
  </header>
  <table class='table table-striped'>
    <thead>
      <tr>
        <th>Owner</th>
        <th>Current borrower</th>
        <th>Collection Location</th>
        <th>Availability <span class='glyphicon glyphicon-calendar'></span></th>
        <th>Request</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat='userbook in usersBook'>
        <td>
          {{ userbook.owner }}
        </td>
        <td>{{ userbook.current_holder }}</td>
        <td>Singapore</td>
        <td>Immidiate</td>
        <td>
          <button class='btn btn-primary' title='borrow the book'
                  ng-click='requestBook(userbook.id)'>
            Request <span class='glyphicon glyphicon-envelope'></span>
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</section>
